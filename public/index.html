:root {
--bg-main: #191919;
--bg-modal: #2a2a2a;
--surface-1: #2c2c2c;
--surface-2: #3a3a3a;
--text-primary: #ffffff;
--text-secondary: #aaaaaa;
--text-muted: #888888;
--accent: #e0b050;
--green: #22c55e;
--red: #ef4444;
--radius-md: 8px;
--radius-lg: 16px;
--font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: var(--font-sans);
background-color: var(--bg-main);
color: var(--text-primary);
overflow: hidden;
height: 100vh;
}

.app-container {
display: grid;
grid-template-rows: auto 1fr auto;
height: 100vh;
max-width: 1200px;
margin: 0 auto;
padding: 0 1.5rem;
}

.app-header {
display: flex;
align-items: center;
padding: 1.5rem 0;
border-bottom: 1px solid var(--surface-1);
}

.logo {
display: flex;
align-items: center;
gap: 0.75rem;
}

.logo-text {
display: flex;
flex-direction: column;
font-weight: 600;
}

.logo-subtitle {
font-size: 0.8rem;
color: var(--text-muted);
}

.header-device {
margin-left: 2rem;
background: var(--surface-1);
padding: 0.5rem 1rem;
border-radius: var(--radius-md);
color: var(--text-secondary);
font-size: 0.9rem;
}

.header-actions {
margin-left: auto;
display: flex;
gap: 0.5rem;
}

.icon-btn {
background: transparent;
border: none;
color: var(--text-secondary);
padding: 0.5rem;
cursor: pointer;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
}

.icon-btn:hover {
background: var(--surface-1);
color: var(--text-primary);
}

.player-main {
display: flex;
flex-direction: column;
align-items: center;
padding: 2rem 0;
overflow-y: auto;
text-align: center;
}

.album-art-container {
width: 100%;
max-width: 350px;
}

#album-art {
width: 100%;
aspect-ratio: 1/1;
background: var(--surface-1);
border-radius: var(--radius-lg);
object-fit: cover;
}

.player-info h1 {
font-size: 2rem;
margin: 1rem 0 0.5rem;
}

.player-info h2 {
font-size: 1.2rem;
color: var(--text-secondary);
}

.visualizer {
width: 100%;
max-width: 400px;
height: 60px;
margin: 1rem 0;
}

#visualizer-canvas {
width: 100%;
height: 100%;
}

.player-controls {
width: 100%;
max-width: 600px;
}

.seeker {
display: flex;
align-items: center;
gap: 1rem;
margin-bottom: 1.5rem;
}

input[type="range"] {
flex: 1;
-webkit-appearance: none;
background: var(--surface-1);
height: 5px;
border-radius: 3px;
}

input[type="range"]::-webkit-slider-thumb {
-webkit-appearance: none;
width: 12px;
height: 12px;
background: var(--text-primary);
border-radius: 50%;
}

.buttons-main {
display: flex;
align-items: center;
justify-content: center;
gap: 2rem;
}

.icon-btn.large {
width: 60px;
height: 60px;
background: var(--accent);
color: var(--bg-main);
}

.icon-btn.play .icon-pause {
display: none;
}

.icon-btn.play.playing .icon-pause {
display: block;
}

.icon-btn.play.playing .icon-play {
display: none;
}

.app-footer {
border-top: 1px solid var(--surface-1);
padding: 1rem 0;
display: flex;
justify-content: space-between;
font-size: 0.8rem;
color: var(--text-muted);
}

.footer-status {
display: flex;
align-items: center;
gap: 0.5rem;
}

.status-light {
width: 10px;
height: 10px;
border-radius: 50%;
background: var(--red);
}

.status-light.connected {
background: var(--green);
}

/* Modals */
.modal-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.8);
display: flex;
align-items: center;
justify-content: center;
z-index: 100;
}

.modal-content {
background: var(--bg-modal);
width: 90%;
max-width: 800px;
height: 85vh;
border-radius: var(--radius-lg);
display: flex;
flex-direction: column;
overflow: hidden;
}

.modal-header {
padding: 1.5rem;
border-bottom: 1px solid var(--surface-1);
display: flex;
justify-content: space-between;
align-items: center;
}

.modal-body {
padding: 1.5rem;
overflow-y: auto;
flex: 1;
}

.hidden {
display: none !important;
}

/* Library */
.library-header {
display: flex;
flex-direction: column;
gap: 1rem;
margin-bottom: 1rem;
}

.library-source-selector,
.library-tabs {
display: flex;
gap: 1rem;
}

.source-btn {
flex: 1;
padding: 0.5rem;
background: transparent;
border: 1px solid var(--surface-1);
color: var(--text-secondary);
cursor: pointer;
border-radius: var(--radius-md);
}

.source-btn.active {
background: var(--accent);
color: var(--bg-main);
border-color: var(--accent);
}

.tab-btn {
background: none;
border: none;
color: var(--text-secondary);
cursor: pointer;
}

.tab-btn.active {
color: var(--accent);
font-weight: 600;
}

#library-search {
width: 100%;
padding: 0.75rem;
background: var(--surface-1);
border: none;
border-radius: var(--radius-md);
color: var(--text-primary);
}

/* >>> START OF EDIT: Added spinner styles */
.spinner {
border: 4px solid var(--surface-2);
border-top: 4px solid var(--accent);
border-radius: 50%;
width: 40px;
height: 40px;
animation: spin 1s linear infinite;
margin: 2rem auto;
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
/* <<< END OF EDIT */ .library-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap:
    1rem; } .artist-item, .album-item { text-align: center; cursor: pointer; } .artist-item span, .album-item span {
    display: block; margin-top: 0.5rem; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow:
    ellipsis; } .library-track-list { list-style: none; } .library-track { display: flex; align-items: center; gap:
    1rem; padding: 0.75rem; border-bottom: 1px solid var(--surface-1); cursor: pointer; } .library-track:hover {
    background: var(--surface-1); } .track-info { flex: 1; } /* Settings */ .settings-section { margin-bottom: 2rem; }
    .settings-section h3 { font-size: 0.9rem; text-transform: uppercase; color: var(--text-muted); margin-bottom: 1rem;
    border-bottom: 1px solid var(--surface-1); padding-bottom: 0.5rem; } .auth-tabs { display: flex; gap: 1rem;
    margin-bottom: 1rem; border-bottom: 1px solid var(--surface-1); } .auth-tab { background: none; border: none; color:
    var(--text-secondary); padding: 0.5rem 0; cursor: pointer; } .auth-tab.active { color: var(--accent); border-bottom:
    2px solid var(--accent); font-weight: 600; } .auth-form { display: flex; flex-direction: column; gap: 1rem;
    background: var(--surface-1); padding: 1.5rem; border-radius: var(--radius-md); } .input-group { display: flex;
    flex-direction: column; gap: 0.5rem; } .input-group input { width: 100%; padding: 0.75rem; background:
    var(--bg-main); border: 1px solid var(--surface-2); border-radius: var(--radius-md); color: var(--text-primary); }
    .input-group input:focus { border-color: var(--accent); outline: none; } .btn { padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md); border: none; font-weight: 600; cursor: pointer; } .btn-primary { background:
    var(--accent); color: var(--bg-main); } .btn-danger { background: var(--red); color: white; }
    .service-connected-info { display: flex; align-items: center; justify-content: space-between; background:
    var(--surface-1); padding: 1rem 1.5rem; border-radius: var(--radius-md); border: 1px solid var(--green); }
    .device-status.connected { color: var(--green); font-weight: 600; } /* Upload */ .upload-drop-zone { padding: 2rem;
    border: 2px dashed var(--surface-2); text-align: center; color: var(--text-secondary); margin-bottom: 1rem; }
    .upload-file-item { padding: 0.5rem; background: var(--surface-1); margin-bottom: 0.5rem; } #toast-container {
    position: fixed; top: 20px; right: 20px; z-index: 200; } .toast { background: var(--surface-2); padding: 1rem;
    margin-bottom: 0.5rem; border-radius: var(--radius-md); animation: slideIn 0.3s ease; } @keyframes slideIn { from {
    transform: translateX(100%); } to { transform: translateX(0); } }